const rp = require("request-promise");

module.exports = (zip, key) => {
  return new Promise((resolve, reject) => {
    rp(`https://www.zipcodeapi.com/rest/${key}/info.json/${zip}/degrees`)
      .then(JSON.parse)
      .then(result => resolve({
        lat: result.lat,
        lng: result.lng
      }))
      .catch(reason => {
        console.error(reason.message);
        process.exit(1);
      });
  });
}